var Game={skins:["black","red","white"],player_skin:["black","red"],player_name:["Player 1","Player 2"],audio:"on",music:"off",back_jump:"on",bot:"off",turn:1,turn_element:document.querySelector("#game .nav .current"),selected_stone:[0,0],selected_stone_type:0,selected_stone_span:0,possible_move:[],createStone:function(e,t="a"){let n=document.createElement("img");return n.dataset.player=e,n.dataset.type=t,n.setAttribute("onclick","firstStep(event)"),n.src="images/stone/"+Game.player_skin[e-1]+"-"+t+".png",n}};const startGame=(e=12)=>{let t=3;for(let e=1;e<=8;e++)for(let t=1;t<=8;t++){let n;n=e%2==1&t%2==0||e%2==0&t%2==1?"primary":"secondary ",document.querySelector("#game .board").innerHTML+=` <span class="${n}  for-1-${e}-${t} for-2-${9-e}-${t}"   >  </span> `}8==e&&(t=2),4==e&&(t=1);for(let e=1;e<=t;e++)for(let t=1;t<=8;t++)(e%2==1&t%2==0||e%2==0&t%2==1)&&document.querySelector(`.game .for-1-${e}-${t}`).append(Game.createStone(1));for(let e=1;e<=t;e++)for(let t=1;t<=8;t++)(e%2==1&t%2==1||e%2==0&t%2==0)&&document.querySelector(`.game .for-2-${e}-${t}`).append(Game.createStone(2));GameMusic()};function firstStep(e){let t,n,o=e.target.dataset.player;if(Game.turn!=o)return!1;0!=Game.selected_stone[0]&&(Game.selected_stone_span.classList.remove("active"),Game.possible_move.forEach(e=>{document.querySelector(e).classList.remove("green"),document.querySelector(e).setAttribute("onclick","")})),t=parseInt(e.target.parentElement.classList[o].slice(6,7)),n=parseInt(e.target.parentElement.classList[o].slice(8)),Game.selected_stone=[t,n],Game.selected_stone_span=document.querySelector(`.game .for-${Game.turn}-${Game.selected_stone[0]}-${Game.selected_stone[1]}`),Game.selected_stone_span.classList.add("active"),Game.selected_stone_type=e.target.dataset.type,"a"==Game.selected_stone_type?stoneA():stoneB()}function checkSlotStatus(e,t){let n=document.querySelector(`.for-${Game.turn}-${e}-${t}`)||!1;return!1!==n&&(0==n.childElementCount?"empty":n.children[0].dataset.player==Game.turn?"same":"opponent")}function makeItGreen(e,t,n=[]){let o=document.querySelector(`.for-${Game.turn}-${e}-${t}`);Game.possible_move.push(`.for-${Game.turn}-${e}-${t}`),o.classList.add("green"),o.setAttribute("onclick",`moveStone(${e},${t},[`+n.join(",")+"])")}function moveStone(e,t,n=[]){let o=Game.selected_stone[0],s=Game.selected_stone[1];document.querySelector(`.for-${Game.turn}-${o}-${s}`).children[0].remove();let a="b"==Game.selected_stone_type||8==e?"b":"a";if(document.querySelector(`.for-${Game.turn}-${e}-${t}`).append(Game.createStone(Game.turn,a)),Game.possible_move.forEach(e=>{document.querySelector(e).classList.remove("green"),document.querySelector(e).setAttribute("onclick","")}),n.length>0)for(let e=0;e<n.length;e+=2){let t=document.querySelector(`.for-${Game.turn}-${n[e]}-${n[e+1]}`)||!1;0!=t&void 0!==typeof t&&t.children[0].remove()}1==Game.turn?Game.turn=2:Game.turn=1,Game.selected_stone_span.classList.remove("active"),Game.selected_stone=[0,0],Game.selected_stone_type=0,Game.selected_stone_span=null,console.log();let c=0;document.querySelectorAll("#game .board img").forEach(e=>{e.dataset.player==Game.turn&&c++}),document.querySelector("#game .nav .current").innerHTML=1==Game.turn?"Computer":"Player 2",0==c&&(alert("you lose"),playNewGame()),GameAudio()}const changeBotStatus=e=>{let t,n=document.querySelector("#settings .first-move .current"),o=["Off","Easy","Medium","Hard"];t=o.indexOf(Game.bot)>=0?o.indexOf(Game.bot):0,"r"==e?++t>o.length-1&&(t=3):"l"==e&&--t<0&&(t=0),Game.bot=o[t],"Off"==Game.bot?(Game.player_name[0]="Player 1","Bot (AI)"==n.innerHTML&&(n.innerHTML="Player 1")):(Game.player_name[0]="Bot (AI)","Player 1"==n.innerHTML&&(n.innerHTML="Bot (AI)")),document.querySelector("#settings .bot .current").innerHTML=Game.bot},openSettings=()=>{let e=document.getElementById("settings"),t=document.querySelector("#game .board");e.style=" display : block  ; position :absolute ; left :500px ;top : 100px ;z-index: 99;",t.style.display="none"},closeSetting=()=>{let e=document.getElementById("settings"),t=document.querySelector("#game .board");t.childElementCount>0&&(e.style.display="none",t.style.display="block")},checkBackJump=e=>{let t=document.querySelector(".back-jump .pointer");document.querySelector(".back-jump .group");t.classList[1]="",t.classList.toggle("back-jump-1"),"on"==Game.back_jump?Game.back_jump="off":Game.back_jump="on"},changeSkin=(e,t)=>{let n=e.dataset.skin,o=t+1;if(o>2&&(o-=2),Game.player_skin[t-1]=n,document.querySelector("#settings .skins .player-"+t+" .active-skin").classList.remove("active-skin"),document.querySelectorAll("#settings .skins .player-"+t+" img").forEach(e=>{e.dataset.skin==n&&e.classList.add("active-skin")}),Game.player_skin[0]==Game.player_skin[1])for(i=0;i<Game.skins.length;i++)if(Game.skins[i]!=n){Game.player_skin[o-1]=Game.skins[i],document.querySelector("#settings .skins .player-"+o+" .active-skin ").classList.remove("active-skin"),document.querySelectorAll("#settings .skins .player-"+o+" img").forEach(e=>{e.dataset.skin==Game.skins[i]&&e.classList.add("active-skin")});break}},exchangeSkin=()=>{document.querySelectorAll("#settings .skins img").forEach(e=>{e.classList.contains("active-skin")&&e.classList.remove("active-skin")}),[Game.player_skin[0],Game.player_skin[1]]=[Game.player_skin[1],Game.player_skin[0]],document.querySelectorAll("#settings .skins .player-1 img").forEach(e=>{e.dataset.skin==Game.player_skin[0]&&e.classList.add("active-skin")}),document.querySelectorAll("#settings .skins .player-2 img").forEach(e=>{e.dataset.skin==Game.player_skin[1]&&e.classList.add("active-skin")})},toggleSound=()=>{"on"==Game.audio?(Game.audio="off",document.querySelector(".toggle-sound").src="images/audio-off.png"):"off"==Game.audio&&(Game.audio="on",document.querySelector(".toggle-sound").src="images/audio-on.png")},toggleMusic=()=>{"on"==Game.music?(Game.music="off",document.querySelector(".toggle-music").src="images/audio-off.png"):"off"==Game.music&&(Game.music="on",document.querySelector(".toggle-music").src="images/audio-on.png")},changeFirstMover=e=>{let t=document.querySelector(".first-move .current"),n=Game.turn;++n>2&&(n-=2),Game.turn=n,t.innerHTML=Game.player_name[n-1]};function GameAudio(){if("on"==Game.audio){var e=new Audio("audio/retro-game.wav");e.play(),e.volume=.1}}function GameMusic(){if("on"==Game.music){let e=new Audio("audio/sad-piano.mp3");e.loop=!0,e.play()}}function changeVolume(e){let t=document.querySelector("#settings .music .pointer"),n=document.querySelector("#settings .music .bar").getBoundingClientRect().left;console.log(n);let o=e.clientX-n;console.log(e),o>100?o=100:o<0&&(o=0),Game.music=o,t.style.left=o+"px"}const playNewGame=e=>{document.getElementById("game").style.display="block",document.querySelector("#game .board").style.display="block",document.querySelector("#game .board").innerHTML="",document.getElementById("settings").style.display="none",Game.turn_element.innerHTML=Game.player_name[Game.turn-1],"Bot (AI)"==Game.player_name[Game.turn-1]&&playAI(),startGame(e)};function stoneA(e=Game.selected_stone[0],t=Game.selected_stone[1]){let n=[e+1,t+1,e+1,t-1];for(let e=0;e<n.length;e+=2)"empty"==checkSlotStatus(n[e],n[e+1])&&makeItGreen(n[e],n[e+1]);stoneA_1(e,t),stoneA_2(e,t),stoneA_3(e,t),stoneA_4(e,t)}function stoneA_1(e,t,n=[]){"opponent"==checkSlotStatus(e+1,t+1)&"empty"==checkSlotStatus(e+2,t+2)&&(n.push(e+1,t+1),makeItGreen(e+2,t+2,n),stoneA_(e+2,t+2,n,1))}function stoneA_2(e,t,n=[]){"opponent"==checkSlotStatus(e+1,t-1)&"empty"==checkSlotStatus(e+2,t-2)&&(n.push(e+1,t-1),makeItGreen(e+2,t-2,n),stoneA_(e+2,t-2,n,2))}function stoneA_3(e,t,n=[]){"opponent"==checkSlotStatus(e-1,t+1)&"empty"==checkSlotStatus(e-2,t+2)&&(n.push(e-1,t+1),makeItGreen(e-2,t+2,n),stoneA_(e-2,t+2,n,3))}function stoneA_4(e,t,n=[]){"opponent"==checkSlotStatus(e-1,t-1)&"empty"==checkSlotStatus(e-2,t-2)&&(n.push(e-1,t-1),makeItGreen(e-2,t-2,n,3),stoneA_(e-2,t-2,n,4))}function stoneA_(e,t,n,o){1==o?(stoneA_1(e,t,n),stoneA_2(e,t,n),stoneA_3(e,t,n)):2==o?(stoneA_1(e,t,n),stoneA_2(e,t,n),stoneA_4(e,t,n)):3==o?(stoneA_1(e,t,n),stoneA_3(e,t),stoneA_4(e,t,n)):4==o&&(stoneA_2(e,t,n),stoneA_3(e,t,n),stoneA_4(e,t,n))}function stoneB(e=Game.selected_stone[0],t=Game.selected_stone[1]){stoneB_1(e,t),stoneB_2(e,t),stoneB_3(e,t),stoneB_4(e,t)}function stoneB_1(e,t,n=[]){let o=!1;for(;t<8;)if("empty"==checkSlotStatus(++e,++t))makeItGreen(e,t,n),o&&stoneB_(e,t,n,1);else{if(!("opponent"==checkSlotStatus(e,t)&"empty"==checkSlotStatus(e+1,t+1)))break;n.push(e,t),makeItGreen(e+1,t+1,n),stoneB_(e+1,t+1,n,1),o=!0,e++,t++}}function stoneB_2(e,t,n=[]){let o=!1;for(;t>1;)if("empty"==checkSlotStatus(++e,--t))makeItGreen(e,t,n),o&&stoneB_(e,t,n,2);else{if(!("opponent"==checkSlotStatus(e,t)&"empty"==checkSlotStatus(e+1,t-1)))break;n.push(e,t),makeItGreen(e+1,t-1,n),stoneB_(e+1,t-1,n,2),o=!0,e++,t--}}function stoneB_3(e,t,n=[]){let o=!1;for(;t<8;)if("empty"==checkSlotStatus(--e,++t))makeItGreen(e,t,n),o&&stoneB_(e,t,n,3);else{if(!("opponent"==checkSlotStatus(e,t)&"empty"==checkSlotStatus(e-1,t+1)))break;n.push(e,t),makeItGreen(e-1,t+1,n),stoneB_(e-1,t+1,n,3),o=!0,e--,t++}}function stoneB_4(e,t,n=[]){let o=!1;for(;t>1;)if("empty"==checkSlotStatus(--e,--t))makeItGreen(e,t,n),o&&stoneB_(e,t,n,4);else{if(!("opponent"==checkSlotStatus(e,t)&"empty"==checkSlotStatus(e-1,t-1)))break;n.push(e,t),makeItGreen(e-1,t-1,n),stoneB_(e-1,t-1,n,4),o=!0,e--,t--}}function stoneB_(e,t,n,o){console.log("ana menu "+e,t,n,o),1!=o&&4!=o||(stoneB__2(e,t,n),stoneB__3(e,t,n)),2!=o&&3!=o||(stoneB__1(e,t,n),stoneB__4(e,t,n))}function stoneB__1(e,t,n){let o=!1;for(;t<8;)"opponent"==checkSlotStatus(++e,++t)&"empty"==checkSlotStatus(e+1,t+1)&&(n.push(e,t),stoneB_(e+1,t+1,n,1),o=!0,e++,t++),"empty"==checkSlotStatus(e,t)&1==o&&(makeItGreen(e,t,n),stoneB_(e,t,n,1))}function stoneB__2(e,t,n){let o=!1;for(;t>1;)e++,t--,console.log("2ci ",e,t),"opponent"==checkSlotStatus(e,t)&"empty"==checkSlotStatus(e+1,t-1)&&(n.push(e,t),stoneB_(e+1,t-1,n,2),o=!0,e++,t--),"empty"==checkSlotStatus(e,t)&1==o&&(makeItGreen(e,t,n),stoneB_(e,t,n,2))}function stoneB__3(e,t,n){let o=!1;for(;t<8;)e--,t++,console.log("3cu"+e,t),"opponent"==checkSlotStatus(e,t)&"empty"==checkSlotStatus(e-1,t+1)&&(n.push(e,t),stoneB_(e-1,t+1,n,3),o=!0,e--,t++),"empty"==checkSlotStatus(e,t)&1==o&&(console.log("gelme de"),makeItGreen(e,t,n),stoneB_(e,t,n,3))}function stoneB__4(e,t,n){let o=!1;for(;t>1;)"opponent"==checkSlotStatus(--e,--t)&"empty"==checkSlotStatus(e-1,t-1)&&(n.push(e,t),stoneB_(e-1,t-1,n,4),o=!0,e--,t--),"empty"==checkSlotStatus(e,t)&1==o&&(makeItGreen(e,t,n),stoneB_(e,t,n,4))}

function playAi(){
    
}